%%%% Maya Malik Garbi - last modified 26/11/17

FileName='C:\Users\Maya\Documents\Maya Analysis after GRC\Data Analysis\Paper Figures\row data figures\';
save_to_file=[FileName,'Buffer\rates different extracts\'];
mkdir(save_to_file)

% %%% Long TL
% AverageRates(1).name='longTL drop9';
% AverageRates(1).color=[128/255 128/255 128/255];
% AverageRates(1).typeOfExp=81;

% AverageRates(1).name='longTL drop2';
% AverageRates(1).color=[128/255 128/255 128/255];
% AverageRates(1).typeOfExp=76;

% 
% %%% All buffers
% AverageRates(1).name='Buffer\All buffers2';
% AverageRates(1).color=[128/255 128/255 128/255];
% AverageRates(1).typeOfExp=76;


% AverageRates(1).name='Buffer\all xb buffer same color';
% AverageRates(1).color=[128/255 128/255 128/255];
% AverageRates(1).typeOfExp=37;
% 
% AverageRates(2).name='Alfa actinin\2_5uM alfa actinin';
% AverageRates(2).color=[250/255 173/255 64/255] ; %%% yellow
% AverageRates(2).typeOfExp=92;
% 
% AverageRates(3).name='Alfa actinin\4uM alfa actinin';
% AverageRates(3).color=[247/255 102/255 18/255] ; %%% orange
% AverageRates(3).typeOfExp=91;
% 
% AverageRates(4).name='Alfa actinin\5uM alfa actinin';
% AverageRates(4).color=[195/255 105/255 165/255] ; %%% magenta
% AverageRates(4).typeOfExp=57;
% 
% AverageRates(5).name='Alfa actinin\10uM alfa actinin';
% AverageRates(5).color=[115/255 89/255 145/255] ; %%% purpal
% AverageRates(5).typeOfExp=58;
% 
% AverageRates(6).name='palloidin\All frames';
% AverageRates(6).color=[0 0 0] ; %%% purpal
% AverageRates(6).typeOfExp=90;
% 

% AverageRates(2).name='cofilin';
% AverageRates(2).color=[195/255 105/255 165/255];
% AverageRates(2).typeOfExp=98;
% 
% AverageRates(3).name='Aip1';
% AverageRates(3).color=[235/255 127/255 255/255];
% AverageRates(3).typeOfExp=135;
% 
% AverageRates(4).name='coronin';
% AverageRates(4).color=[250/255 173/255 64/255];
% AverageRates(4).typeOfExp=39;
% 
% AverageRates(5).name='CCA';
% AverageRates(5).color=[115/255 89/255 145/255];
% AverageRates(5).typeOfExp=38;
% 

AverageRates(1).name='Buffer Control';
AverageRates(1).color=[128/255 128/255 128/255];
AverageRates(1).typeOfExp=37;

AverageRates(2).name='mDia';
% AverageRates(2).color=[0 1 1];
AverageRates(2).color=[148/255 191/255 255/255];
AverageRates(2).typeOfExp=60;
 
AverageRates(3).name='ActA\ActA rambam5';
% AverageRates(3).color=[1 0 0];
AverageRates(3).color=[115/255 89/255 145/255];
AverageRates(3).typeOfExp=40;

AverageRates(4).name='CCA';
AverageRates(4).typeOfExp=38;
AverageRates(4).color=[250/255 173/255 64/255];
 
AverageRates(5).name='Fascin';
% AverageRates(5).color=[103/255 37/255 119/255];
AverageRates(5).color=[195/255 105/255 165/255];
AverageRates(5).typeOfExp=59;

AverageRates(6).name='10uM alfa actinin';
% AverageRates(6).color=[0 0 1];
AverageRates(6).color=[247/255 102/255 18/255];
AverageRates(6).typeOfExp=58;

AverageRates(7).name='CP';
AverageRates(7).color=[153/255 255/255 102/255];
AverageRates(7).typeOfExp=117;

% AverageRates(8).name='Buffer\Buffer rambam4_1';
% AverageRates(8).color=[0 0 0];
% AverageRates(8).typeOfExp=16;
% 



% AverageRates(7).name='Buffer\XBbuffer30deg';
% AverageRates(7).color=[1 0 1];
% AverageRates(7).typeOfExp=73;
% 
% AverageRates(8).name='palloidin\All frames';
% AverageRates(8).color=[0 0 0];
% AverageRates(8).typeOfExp=90;



% AverageRates(1).name='cofilin buffer';
% AverageRates(1).color=[1 0 0];
% AverageRates(1).typeOfExp=37;
% 
% AverageRates(2).name='HEK buffer';
% AverageRates(2).color=[1 0 1];
% AverageRates(2).typeOfExp=50;
% 
% AverageRates(3).name='XB';
% AverageRates(3).color=[204/255 102/255 0];
% AverageRates(3).typeOfExp=37;
% 
% AverageRates(4).name='xb old';
% AverageRates(4).color=[0 0 1];
% AverageRates(4).typeOfExp=64; 

% AverageRates=struct;
% AverageRates(1).name='different buffers same color';
% AverageRates(1).color=[128/255 128/255 128/255];
% AverageRates(1).typeOfExp=37;
% 
% AverageRates(2).name='mDia';
% AverageRates(2).color=[1 0 1];
% AverageRates(2).typeOfExp=60;
% 
% AverageRates(3).name='ActA';
% AverageRates(3).color=[1 0 0];
% AverageRates(3).typeOfExp=40;
% 
% AverageRates(4).name='CCA';
% AverageRates(4).color=[0 1 0];
% AverageRates(4).typeOfExp=38;
% 
% AverageRates(5).name='Fascin';
% AverageRates(5).color=[103/255 37/255 119/255];
% AverageRates(5).typeOfExp=59;
% 
% AverageRates(6).name='10uM alfa Actinin';
% AverageRates(6).color=[0 0 1];
% AverageRates(6).typeOfExp=58;
% 
% AverageRates(7).name='5uM alfa Actinin';
% AverageRates(7).color=[0 1 1];
% AverageRates(7).typeOfExp=57;
% 
% AverageRates(8).name='Srv2 Abp1';
% AverageRates(8).color=[0 153/255 0];
% AverageRates(8).typeOfExp=61;
% 
% AverageRates(9).name='Coronin';
% AverageRates(9).color=[0 0 0];
% AverageRates(9).typeOfExp=39;
% 
% AverageRates(10).name='Aip1';
% AverageRates(10).color=[1 1 0];
% AverageRates(10).typeOfExp=135;
% 
% AverageRates(11).name='0_75uM ActA';
% AverageRates(11).color=[1 153/255 0];
% AverageRates(11).typeOfExp=69;
% 
% AverageRates(12).name='ActA GMF';
% AverageRates(12).color=[204/255 102/255 0];
% AverageRates(12).typeOfExp=70;
% 
% AverageRates(13).name='CCA and Tpm3_1';
% AverageRates(13).color=[0 153/255 51/255];
% AverageRates(13).typeOfExp=67;
% 
% AverageRates(14).name='CCA PFN';
% AverageRates(14).color=[0 51/255 0];
% AverageRates(14).typeOfExp=66;

AverageRates(2).name='Buffer\Buffer rambam4_1';
AverageRates(2).color=[77/255 77/255 77/255];
AverageRates(2).typeOfExp=16;

% AverageRates(16).name='Cofilin';
% AverageRates(16).color=[1 153/255 1];
% AverageRates(16).typeOfExp=214;
% 
% AverageRates(17).name='CP'; %%% 2uM CP
% AverageRates(17).color=[102/255 0 1];
% AverageRates(17).typeOfExp=18;

% AverageRates(2).name='mDia';
% AverageRates(2).color=[1 0 1];
% AverageRates(2).typeOfExp=60;

% %%% For mDia data

AverageRates(2).name='0_3uM mDia';
AverageRates(2).color=[250/255 173/255 64/255] ; %%% yellow
AverageRates(2).typeOfExp=93;

AverageRates(3).name='0_5uM mDia';
AverageRates(3).color=[247/255 102/255 18/255] ; %%% orange
AverageRates(3).typeOfExp=60;

AverageRates(4).name='1uM mDia';
AverageRates(4).color=[195/255 105/255 165/255] ; %%% magenta
AverageRates(4).typeOfExp=94;

AverageRates(5).name='1_5uM mDia';
AverageRates(5).color=[115/255 89/255 145/255] ; %%% purpal
AverageRates(5).typeOfExp=99;





% %%% For ActA Data
% save_to_file=[FileName,'rates ActA\'];
% mkdir(save_to_file)
% 
AverageRates(1).name='Buffer\Buffer rambam4_1';
AverageRates(1).color=[128/255 128/255 128/255];
AverageRates(1).typeOfExp=16;

AverageRates(2).name='ActA\ActA01uM';
AverageRates(2).color=[1 0 1] ; %%% megenta
AverageRates(2).typeOfExp=201;

AverageRates(3).name='ActA\ActA05uM';
AverageRates(3).color=[1 153/255 0]; %%% Orange
AverageRates(3).typeOfExp=203;

AverageRates(4).name='ActA\ActA07uM';
AverageRates(4).color=[0 1 0]; %%% Green
AverageRates(4).typeOfExp=204;

AverageRates(5).name='ActA\ActA1uM';
AverageRates(5).color=[0 1 0]; %%% Green
AverageRates(5).typeOfExp=205;

AverageRates(6).name='ActA\ActA1_5uM';
AverageRates(6).color=[1 0 0]; %%% red
AverageRates(6).typeOfExp=206;
% 
 
% AverageRates(3).name='0_3uM ActA';
% AverageRates(3).color=[0 0 1]; %%% blue

% AverageRates(5).name='0_7uM ActA';
% AverageRates(5).color=[0 1 0]; %%% Green
% 
% AverageRates(6).name='1uM ActA';
% AverageRates(6).color=[0 1 1]; %%% cayn
% 
% AverageRates(7).name='1_5uM ActA';
% AverageRates(7).color=[1 0 0]; %%% red

AverageRates(2).name='Buffer\Buffer rambam4_1';
AverageRates(2).color=[250/255 173/255 64/255] ; %%% yellow
AverageRates(2).typeOfExp=16;

AverageRates(3).name='Buffer\rambam6';
AverageRates(3).color=[195/255 105/255 165/255]; %%%magenta
AverageRates(3).typeOfExp=104;

AverageRates(4).name='Buffer\rambam7';
AverageRates(4).color=[247/255 102/255 18/255]; %% orange
AverageRates(4).typeOfExp=105;



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

AllDataRates=struct;
n=1;
for i=1:length(AverageRates)

DROPSforRho=importdata([FileName,AverageRates(i).name,'\DROPSforRho.mat']);
relvantDrops=find([DROPSforRho.typeOfExp]==AverageRates(i).typeOfExp);
t=n;

for k=relvantDrops 
AllDataRates(n).xslxIndex=DROPSforRho(k).xslxIndex;
AllDataRates(n).typeOfExp=DROPSforRho(k).typeOfExp;
AllDataRates(n).typeOfExpString=DROPSforRho(k).typeOfExpString;
%AllDataRates(n).Color=DROPSforRho(k).Color;
AllDataRates(n).Color=AverageRates(i).color;
AllDataRates(n).DropSize=DROPSforRho(k).DropSize;
AllDataRates(n).TurnoverRate=-DROPSforRho(k).TurnoverRate;
AllDataRates(n).TurnoverTime=-1/DROPSforRho(k).TurnoverRate;
AllDataRates(n).ContractionRate=-DROPSforRho(k).ContractionRate;
AllDataRates(n).ContractionTime=-1/DROPSforRho(k).ContractionRate;
n=n+1;
end

AverageRates(i).AvgContractionRate=mean([AllDataRates(t:n-1).ContractionRate]);
AverageRates(i).STDContractionRate=std([AllDataRates(t:n-1).ContractionRate]);
AverageRates(i).AvgTurnoverRate=mean([AllDataRates(t:n-1).TurnoverRate]);
AverageRates(i).STDTurnoverRate=std([AllDataRates(t:n-1).TurnoverRate]);
AverageRates(i).AvgContractionTime=std([AllDataRates(t:n-1).ContractionTime]);
AverageRates(i).STDContractionTime=std([AllDataRates(t:n-1).ContractionTime]);
AverageRates(i).AvgTurnoverTime=std([AllDataRates(t:n-1).TurnoverTime]);
AverageRates(i).STDTurnoverTime=std([AllDataRates(t:n-1).TurnoverTime]);
 end

save([save_to_file,'AverageRates.mat'],'AverageRates')
save([save_to_file,'AllDataRates.mat'],'AllDataRates')



